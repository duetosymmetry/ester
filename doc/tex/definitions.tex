\def\div{\mathop{\rm div}\nolimits}
\newcommand{\vect}[1]{\mathbf{#1}}
\def\rvec{\boldsymbol{\hat r}}
\def\thvec{\boldsymbol{\hat \theta}}
\def\phivec{\boldsymbol{\hat \varphi}}

%%% Function reference

\newcounter{funcref}
\newcounter{funccounter}
\newcounter{funcseccounter}

\newcommand{\funclistcolumns}{2}

\newwrite\funcfile
\newcommand{\funcrefbegin}[1]%
{\immediate\openout\funcfile=\jobname_#1.fcn
\setcounter{funcref}{0}
}

\newcommand{\funcrefend}%
{
\if\thefuncref0
\else
	\immediate\write\funcfile{\unexpanded{\end{multicols}}}
\fi
\immediate\closeout\funcfile
}

\newcommand{\funcsec}[1]%
{
\if\thefuncref0
\else
	\immediate\write\funcfile{\unexpanded{\end{multicols}}}
	\setcounter{funcref}{0}
\fi
\immediate\write\funcfile{\unexpanded{\medskip}}
\immediate\write\funcfile{\unexpanded{\noindent\hyperlink}{funcsec\thefuncseccounter}\unexpanded{{#1}}}
\immediate\write\funcfile{}
\hypertarget{funcsec\thefuncseccounter}{}
\stepcounter{funcseccounter}
}


\newcommand{\funcrefpagebreak}%
{
\immediate\write\funcfile{\unexpanded{\pagebreak}}
}

\newcommand{\funclist}[1]{\InputIfFileExists{\jobname_#1.fcn}{}{}}

\newcommand{\function}[5]{%
\if\thefuncref0
	\immediate\write\funcfile{\unexpanded{\begin{multicols}{\funclistcolumns}}}
	\stepcounter{funcref}
\fi
\stepcounter{funccounter}
\immediate\write\funcfile{\unexpanded{\noindent\hyperlink}{funcref\thefunccounter}\unexpanded{{#1}\newline}}
\par
\hrule\nopagebreak
\smallskip
\hypertarget{funcref\thefunccounter}{}
\noindent\begin{minipage}{\textwidth}
\noindent\textbf{#1}\newline

\hspace{1cm}\begin{tabular}{lp{0.8\textwidth}}
\textit{Type}: &#2\\[1mm]
\textit{Inputs}: &#3\\[1mm]
\textit{Output}: &#4\\[1mm]
\textit{Description}: &#5\\[1mm]
\end{tabular}
\end{minipage}

\medskip}

\newcommand{\member}[3]{%
\if\thefuncref0
	\immediate\write\funcfile{\unexpanded{\begin{multicols}{\funclistcolumns}}}
	\stepcounter{funcref}
\fi
\stepcounter{funccounter}
\immediate\write\funcfile{\unexpanded{\noindent\hyperlink}{funcref\thefunccounter}\unexpanded{{#1}\newline}}
\par
\hrule\nopagebreak
\smallskip
\hypertarget{funcref\thefunccounter}{}
\noindent\begin{minipage}{\textwidth}
\noindent\textbf{#1}\newline

\hspace{1cm}\begin{tabular}{lp{0.8\textwidth}}
\textit{Type}: &#2\\[1mm]
\textit{Description}: &#3\\[1mm]
\end{tabular}
\end{minipage}

\medskip}


% Bibliography and bibfile
\def\aj{AJ}%
          % Astronomical Journal
\def\actaa{Acta Astron.}%
          % Acta Astronomica
\def\araa{ARA\&A}%
          % Annual Review of Astron and Astrophys
\def\apj{ApJ}%
          % Astrophysical Journal
\def\apjl{ApJ}%
          % Astrophysical Journal, Letters
\def\apjs{ApJS}%
          % Astrophysical Journal, Supplement
\def\ao{Appl.~Opt.}%
          % Applied Optics
\def\apss{Ap\&SS}%
          % Astrophysics and Space Science
\def\aap{A\&A}%
          % Astronomy and Astrophysics
\def\aapr{A\&A~Rev.}%
          % Astronomy and Astrophysics Reviews
\def\aaps{A\&AS}%
          % Astronomy and Astrophysics, Supplement
\def\azh{AZh}%
          % Astronomicheskii Zhurnal
\def\baas{BAAS}%
          % Bulletin of the AAS
\def\bac{Bull. astr. Inst. Czechosl.}%
          % Bulletin of the Astronomical Institutes of Czechoslovakia 
\def\caa{Chinese Astron. Astrophys.}%
          % Chinese Astronomy and Astrophysics
\def\cjaa{Chinese J. Astron. Astrophys.}%
          % Chinese Journal of Astronomy and Astrophysics
\def\icarus{Icarus}%
          % Icarus
\def\jcap{J. Cosmology Astropart. Phys.}%
          % Journal of Cosmology and Astroparticle Physics
\def\jrasc{JRASC}%
          % Journal of the RAS of Canada
\def\mnras{MNRAS}%
          % Monthly Notices of the RAS
\def\memras{MmRAS}%
          % Memoirs of the RAS
\def\na{New A}%
          % New Astronomy
\def\nar{New A Rev.}%
          % New Astronomy Review
\def\pasa{PASA}%
          % Publications of the Astron. Soc. of Australia
\def\pra{Phys.~Rev.~A}%
          % Physical Review A: General Physics
\def\prb{Phys.~Rev.~B}%
          % Physical Review B: Solid State
\def\prc{Phys.~Rev.~C}%
          % Physical Review C
\def\prd{Phys.~Rev.~D}%
          % Physical Review D
\def\pre{Phys.~Rev.~E}%
          % Physical Review E
\def\prl{Phys.~Rev.~Lett.}%
          % Physical Review Letters
\def\pasp{PASP}%
          % Publications of the ASP
\def\pasj{PASJ}%
          % Publications of the ASJ
\def\qjras{QJRAS}%
          % Quarterly Journal of the RAS
\def\rmxaa{Rev. Mexicana Astron. Astrofis.}%
          % Revista Mexicana de Astronomia y Astrofisica
\def\skytel{S\&T}%
          % Sky and Telescope
\def\solphys{Sol.~Phys.}%
          % Solar Physics
\def\sovast{Soviet~Ast.}%
          % Soviet Astronomy
\def\ssr{Space~Sci.~Rev.}%
          % Space Science Reviews
\def\zap{ZAp}%
          % Zeitschrift fuer Astrophysik
\def\nat{Nature}%
          % Nature
\def\iaucirc{IAU~Circ.}%
          % IAU Cirulars
\def\aplett{Astrophys.~Lett.}%
          % Astrophysics Letters
\def\apspr{Astrophys.~Space~Phys.~Res.}%
          % Astrophysics Space Physics Research
\def\bain{Bull.~Astron.~Inst.~Netherlands}%
          % Bulletin Astronomical Institute of the Netherlands
\def\fcp{Fund.~Cosmic~Phys.}%
          % Fundamental Cosmic Physics
\def\gca{Geochim.~Cosmochim.~Acta}%
          % Geochimica Cosmochimica Acta
\def\grl{Geophys.~Res.~Lett.}%
          % Geophysics Research Letters
\def\jcp{J.~Chem.~Phys.}%
          % Journal of Chemical Physics
\def\jgr{J.~Geophys.~Res.}%
          % Journal of Geophysics Research
\def\jqsrt{J.~Quant.~Spec.~Radiat.~Transf.}%
          % Journal of Quantitiative Spectroscopy and Radiative Trasfer
\def\memsai{Mem.~Soc.~Astron.~Italiana}%
          % Mem. Societa Astronomica Italiana
\def\nphysa{Nucl.~Phys.~A}%
          % Nuclear Physics A
\def\physrep{Phys.~Rep.}%
          % Physics Reports
\def\physscr{Phys.~Scr}%
          % Physica Scripta
\def\planss{Planet.~Space~Sci.}%
          % Planetary Space Science
\def\procspie{Proc.~SPIE}%
          % Proceedings of the SPIE
\let\astap=\aap
\let\apjlett=\apjl
\let\apjsupp=\apjs
\let\applopt=\ao



