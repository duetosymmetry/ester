\chapter{Getting started}
\section{Prerequisites}

The ESTER library depends on some external libraries that should be installed in the system, namely:
\begin{itemize}
\item BLAS and LAPACK, for matrix algebra
\item PGPLOT (CPGPLOT) for graphics output
\end{itemize}
The library PGPLOT is optative and can be deactivated in the {\tt Makefile} ({\tt make.inc}) setting the variable {\tt USE\_PGPLOT=0}.

\section{Installation}

Unpack the file of the distribution (normally {\tt ester.tar.gz}) in the desired directory
\mint{bash}|root$ tar zxvf ester.tar.gz| %$
Go to the directory {\tt ester/src}
\mint{bash}|root$ cd ester/src| %$
To clean out any previous installation we can do
\mint{bash}|root/ester/src$ make distclean| %$
First we have to compile the third-party libraries included in the distribution. This only have to be done the first time (or after
a {\tt distclean}). 
At the moment there is only one library that needs to be build, the package for interpolating opacity tables created by G\"unter Houdek.
After checking the {\tt Makefile} located at {\tt ester/tables/houdek/v9} we do
\mint{bash}|root/ester/src$ make tables| %$
Now, we are prepared to compile the main library. The first step is to
create the {\verb1 make.inc 1} file from the two examples
that are included, {\tt make.inc.icc} and {\tt make.inc.gcc},
 for the Intel compiler and the GNU compiler respectively (tested under
 Ubuntu 12.04).
After setting the appropriate values for the compilation we execute {\tt make
all} or just \mint{bash}|root/ester/src$ make| %$ To remove intermediate
files we can also do \mint{bash}|root/ester/src$ make clean| %$ The main
library is created in {\tt ester/lib/libester.so}, the include files
are in {\tt ester/include} and the executables in {\tt ester/bin}. We
can add the latter directory to the system path, for the \emph{bash}
shell \mint{bash}|$ export PATH="your_root_directory/ester/bin:$PATH"|
or include this line in your {\tt .bashrc} file.


\section{Checking the installation}

To check the functionality of the program we are going to calculate the structure of a star using the default values for the parameters.
First we calculate the structure of the corresponding 1D non-rotating star. Change to your working directory and execute
\mint{bash}|$ star1d| %$
Then we use the output file (by default {\tt star.out}) as the starting point for the 2D calculation
\mint{bash}|$ star2d -i star.out -Omega_bk 0.7|   %$
This calculates the structure of a star rotating at 70$\%$ of the break-up velocity $\Omega_k=\sqrt{\frac{GM}{R_e^3}}$.

\section{Using the library}

To use the ESTER library in a C program you should write at the beginning of your source file
\mint{bash}|#include "ester.h"|
To facilitate the process of compiling and linking against the library and all its dependencies, we provide an automatically generated
script {\tt ester/utils/ester\_build} so, all you have to do is
\mint{bash}|$ ester_build your_cpp_program.cpp -o your_executable| %$






